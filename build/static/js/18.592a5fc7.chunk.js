(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[18],{1051:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(2),c=(n(0),n(530)),r=(n(102),function(e){c.a.info({message:"TxHash Published",duration:0,description:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"TxHash : "}),Object(a.jsx)("a",{href:"https://arbiscan.io/tx/".concat(e),target:"_blank",children:e})]}),onClick:function(){console.log("Notification Clicked!")}})}),s=function(e){c.a.error({message:"Transaction denied",duration:0,description:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("p",{children:e})}),onClick:function(){console.log("Notification Clicked!")}})},i=function(e){c.a.error({message:"Not Enough TAC",duration:0,description:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"You should have more than 10TAC to confirm the match."}),Object(a.jsx)("span",{children:"Current Balance : "}),Object(a.jsxs)("span",{className:"text-danger",children:[e," TAC"]})]}),onClick:function(){console.log("Notification Clicked!")}})}},1062:function(e,t,n){"use strict";var a=n(18),c=n.n(a),r=n(140),s=n(1071),i=n(1072),o=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="metamask"===e.t0?3:"portis"===e.t0?7:11;break;case 3:return e.next=5,Object(i.a)();case 5:return n=e.sent,e.abrupt("break",12);case 7:return e.next=9,Object(s.a)();case 9:return n=e.sent,e.abrupt("break",12);case 11:console.log("No selected wallet");case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=o},1071:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(18),c=n.n(a),r=n(140),s=n(536),i=n.n(s),o=n(1106),l=new(n.n(o).a)("72d754bc-b373-4ab0-b758-1bf2461433bb",{nodeUrl:"https://arb1.arbitrum.io/rpc",chainId:42161}),u=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new i.a(l.provider),console.log("Web3 instance is",t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},1072:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p}));var a=n(18),c=n.n(a),r=n(140),s=n(1115),i=n.n(s),o=n(536),l=n.n(o),u=n(102),b=n(1051),d=localStorage.getItem("auth_token"),f=(localStorage.getItem("wallet_type"),function(){var e;switch(u.a){case"kovan-optimistic":e="0x45";break;case"optimistic":e="0xa";break;case"rinkeby":e="0x4";break;case"arbitrum-testnet":e="0x66eeb";break;case"arbitrum-mainnet":e="0xa4b1";break;default:console.log("No selected wallet")}return e}),j=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f(),e.next=3,i()();case 3:if(!(n=e.sent)){e.next=29;break}return e.next=7,n.request({method:"eth_chainId"});case 7:if(e.sent!=t){e.next=24;break}return e.next=11,n.request({method:"eth_requestAccounts"});case 11:if(s=e.sent,a=s[0],console.log("\ub85c\uadf8\uc778\uc815\ubcf4",a),console.log(d),a!=d){e.next=20;break}return r=new l.a(n),e.abrupt("return",r);case 20:Object(b.a)("\ub85c\uadf8\uc778 \uc815\ubcf4\uc640 \uba54\ud0c0\ub9c8\uc2a4\ud06c \uacc4\uc815\uc774 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),Object(b.a)("The selected account of Metamask does not match with the user's info. ");case 22:e.next=27;break;case 24:console.log("\uc11c\ubc84\uac00 ".concat(u.a,"\uc73c\ub85c \uc120\ud0dd\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")),Object(b.a)("\uba54\ud0c0\ub9c8\uc2a4\ud06c\uc5d0\uc11c \uc11c\ubc84\ub97c ".concat(u.a,"\uc73c\ub85c \ubcc0\uacbd\ud574\uc8fc\uc138\uc694.")),Object(b.a)("Please set the RPC-node as ".concat(u.a,"."));case 27:e.next=31;break;case 29:console.error("Please install MetaMask!"),Object(b.a)("Please install MetaMask!");case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f(),e.next=3,i()();case 3:if(!(n=e.sent)){e.next=35;break}return e.next=7,n.request({method:"eth_chainId"});case 7:if(e.sent!=t){e.next=16;break}return e.next=11,n.request({method:"eth_requestAccounts"});case 11:return r=e.sent,a=r[0],e.abrupt("return",a);case 16:return e.prev=16,e.next=19,n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0xa4b1"}]});case 19:e.next=35;break;case 21:if(e.prev=21,e.t0=e.catch(16),4902!==e.t0.code){e.next=34;break}return e.prev=24,e.next=27,n.request({method:"wallet_addEthereumChain",params:[{chainId:"0xa4b1",chainName:"Arbitrum One",rpcUrls:["https://arb1.arbitrum.io/rpc"],nativeCurrency:{name:"AETH",symbol:"AETH",decimals:18},blockExplorerUrls:["https://arbiscan.io"]}]});case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(24),console.error(e.t1);case 32:e.next=35;break;case 34:alert("MetaMask is not installed. Please consider installing it: https://metamask.io/download.html");case 35:case"end":return e.stop()}}),e,null,[[16,21],[24,29]])})));return function(){return e.apply(this,arguments)}}()},1107:function(e,t,n){"use strict";var a=n(2),c=n(15),r=(n(0),n(1022)),s=function(e){return Object(a.jsx)(r.a,Object(c.a)(Object(c.a)({},e),{},{className:"ant-avatar-".concat(e.type),children:e.text}))};t.a=function(e){var t=e.name,n=e.suffix,c=e.subTitle,r=e.id,i=e.type,o=e.src,l=e.icon,u=e.size,b=e.shape,d=e.gap,f=e.text,j=e.onNameClick;return Object(a.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[s({icon:l,src:o,type:i,size:u,shape:b,gap:d,text:f}),Object(a.jsxs)("div",{className:"ml-2",children:[Object(a.jsxs)("div",{children:[j?Object(a.jsx)("div",{onClick:function(){return j({name:t,subTitle:c,src:o,id:r})},className:"avatar-status-name clickable",children:t}):Object(a.jsx)("div",{className:"avatar-status-name",children:t}),Object(a.jsx)("span",{children:n})]}),Object(a.jsx)("div",{className:"text-muted avatar-status-subtitle",children:c})]})]})}},1319:function(e,t,n){"use strict";n(18),n(140),n(536);var a=n(1106);new(n.n(a).a)("24362e3c-2da0-445c-a0ee-b1e33da455ce",{nodeUrl:"https://kovan.optimism.io",chainId:69})},2034:function(e,t,n){"use strict";var a=n(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},r=n(14),s=function(e,t){return a.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};s.displayName="ClockCircleOutlined";t.a=a.forwardRef(s)},2035:function(e,t,n){"use strict";var a=n(3),c=n(4),r=n(9),s=n(0),i=n(6),o=n.n(i),l=n(53),u=n(158),b=n(84),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},f=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,l=e.onChange,u=e.onClick,f=d(e,["prefixCls","className","checked","onChange","onClick"]),j=(0,s.useContext(b.b).getPrefixCls)("tag",n),p=o()(j,(t={},Object(a.a)(t,"".concat(j,"-checkable"),!0),Object(a.a)(t,"".concat(j,"-checkable-checked"),i),t),r);return s.createElement("span",Object(c.a)({},f,{className:p,onClick:function(e){l&&l(!i),u&&u(e)}}))},j=n(334),p=n(215),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},m=new RegExp("^(".concat(j.a.join("|"),")(-inverse)?$")),x=new RegExp("^(".concat(j.b.join("|"),")$")),O=function(e,t){var n,i=e.prefixCls,d=e.className,f=e.style,j=e.children,O=e.icon,v=e.color,g=e.onClose,k=e.closeIcon,y=e.closable,w=void 0!==y&&y,C=h(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),N=s.useContext(b.b),E=N.getPrefixCls,I=N.direction,S=s.useState(!0),T=Object(r.a)(S,2),P=T[0],A=T[1];s.useEffect((function(){"visible"in C&&A(C.visible)}),[C.visible]);var M=function(){return!!v&&(m.test(v)||x.test(v))},_=Object(c.a)({backgroundColor:v&&!M()?v:void 0},f),z=M(),q=E("tag",i),H=o()(q,(n={},Object(a.a)(n,"".concat(q,"-").concat(v),z),Object(a.a)(n,"".concat(q,"-has-color"),v&&!z),Object(a.a)(n,"".concat(q,"-hidden"),!P),Object(a.a)(n,"".concat(q,"-rtl"),"rtl"===I),n),d),F=function(e){e.stopPropagation(),g&&g(e),e.defaultPrevented||"visible"in C||A(!1)},R="onClick"in C||j&&"a"===j.type,U=Object(l.a)(C,["visible"]),B=O||null,D=B?s.createElement(s.Fragment,null,B,s.createElement("span",null,j)):j,J=s.createElement("span",Object(c.a)({},U,{ref:t,className:H,style:_}),D,w?k?s.createElement("span",{className:"".concat(q,"-close-icon"),onClick:F},k):s.createElement(u.a,{className:"".concat(q,"-close-icon"),onClick:F}):null);return R?s.createElement(p.a,null,J):J},v=s.forwardRef(O);v.displayName="Tag",v.CheckableTag=f;t.a=v},2051:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(15),r=n(337),s=n(18),i=n.n(s),o=n(140),l=n(85),u=n(0),b=n(301),d=n(113),f=n(52),j=(n(1319),n(174)),p=n(2035),h=n(2078),m=(n(88),n(1068)),x=n(1062),O=n(348),v=n(2034),g=n(2063),k=n(129),y=(n(1107),n(1051)),w=localStorage.getItem("auth_token"),C=localStorage.getItem("wallet_type"),N=function(e,t){return e?Object(a.jsx)(d.a,{id:t}):t.toString()};t.default=function(){var e=Object(f.d)((function(e){return e.theme.locale})),t=Object(u.useState)({}),n=Object(l.a)(t,2),s=n[0],d=n[1],E=Object(u.useState)({}),I=Object(l.a)(E,2),S=I[0],T=I[1],P=Object(u.useState)(!0),A=Object(l.a)(P,2),M=A[0],_=A[1],z=Object(u.useState)(null),q=Object(l.a)(z,2),H=q[0],F=q[1],R=Object(u.useState)(!1),U=Object(l.a)(R,2),B=(U[0],U[1]),D=Object(f.c)(),J=Object(f.d)((function(e){return e.training.proposedTrainingsToConfirm})),W=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.c;case 2:return t=e.sent,n=new t.eth.Contract(m.c,m.d),e.next=6,n.methods.balanceOf(w).call();case 6:return a=e.sent,e.next=9,t.utils.fromWei(a,"ether");case 9:c=e.sent,r=parseInt(c),F(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){W()}),[]),Object(u.useEffect)((function(){D(Object(b.b)(w))}),[]),Object(u.useEffect)((function(){null!=J&&_(!1),null!=J&&J.map((function(e){var t=Object(r.a)({},e.id,!1);d((function(e){return Object(c.a)(Object(c.a)({},e),t)})),T((function(e){return Object(c.a)(Object(c.a)({},e),t)}))}))}),[J]);var Y=[{title:function(){return Object(a.jsx)("div",{children:N(e,"users.matchID")})},dataIndex:"id",key:"id"},{title:function(){return Object(a.jsx)("div",{children:N(e,"users.time")})},dataIndex:"time",key:"time",render:function(e){var t=new Date(1e3*e);return Object(a.jsxs)("div",{className:"d-flex flex-column  justify-content-center",children:[Object(a.jsxs)("p",{className:"mt-0 mb-0",children:[" ",t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()," "]}),Object(a.jsxs)("p",{className:"mt-0 mb-0",children:[" ",t.getHours()+":"+t.getMinutes()," "]})]})}},{title:function(){return Object(a.jsx)("div",{children:N(e,"users.confirm")})},dataIndex:"",key:"x",render:function(t,n){var r=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(C);case 2:return t=e.sent,a=new t.eth.Contract(m.a,m.b),e.next=6,a.methods.verifyTraining(n.id).estimateGas({from:w}).then((function(e){r=parseInt(1.3*e),console.log(e),console.log(r)}));case 6:if(l=function(){var e=Object(c.a)({},s);e[n.id]=!0,d(e)},u=function(){var e=Object(c.a)({},S);e[n.id]=!0,T(e)},!(H<10)){e.next=12;break}Object(y.b)(H),e.next=15;break;case 12:return B(!0),e.next=15,a.methods.verifyTraining(n.id).send({from:w,gas:r}).on("error",(function(e){Object(y.a)(e.message),console.log(e),B(!1)})).on("transactionHash",function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.c)(t),B(!1),l();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("confirmation",(function(e){B(!1),console.log("confirmation"),console.log(e),u()}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:1==S[n.id]?Object(a.jsxs)(j.a,{type:"primary",size:"small",icon:Object(a.jsx)(O.a,{}),ghost:!0,children:[" ",N(e,"users.confirmed.button")]}):Object(a.jsxs)(j.a,{type:"primary",size:"small",onClick:r,loading:s[n.id],children:[" ",N(e,"users.confirm.button")]})})}},{title:function(){return Object(a.jsx)("div",{children:N(e,"users.status")})},dataIndex:"verified",key:"verified",render:function(e,t){return Object(a.jsxs)(a.Fragment,{children:[!S[t.id]&&!s[t.id]&&Object(a.jsx)(p.a,{icon:Object(a.jsx)(v.a,{}),color:"#bfbfbf",children:"Not Approved"}),!S[t.id]&&s[t.id]&&Object(a.jsx)(p.a,{icon:Object(a.jsx)(g.a,{spin:!0}),color:"geekblue",children:"processing"}),S[t.id]&&Object(a.jsx)(p.a,{icon:Object(a.jsx)(O.a,{}),color:"lime",children:"Approved "})]})}}];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(h.a,{columns:Y,dataSource:J,scroll:{x:900},rowKey:"id",loading:M})})}},2063:function(e,t,n){"use strict";var a=n(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},r=n(14),s=function(e,t){return a.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};s.displayName="SyncOutlined";t.a=a.forwardRef(s)}}]);