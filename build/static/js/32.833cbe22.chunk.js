(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[32],{1080:function(e,t,n){"use strict";var a=n(2),c=n(85),r=n(0),l=n(52),s=n(45);t.a=Object(l.b)((function(e){return{navType:e.theme.navType}}),{})((function(e){var t=e.children,n=e.background,l=e.className,o=e.overlap,i=e.navType,u=Object(r.useState)(0),j=Object(c.a)(u,2),d=j[0],b=j[1],m=Object(r.useRef)(null);Object(r.useEffect)((function(){if(i===s.b){var e=window.innerWidth,t=m.current.offsetWidth;b((e-t)/2)}}),[i]);return Object(a.jsx)("div",{ref:m,className:"page-header-alt ".concat(l||""," ").concat(o&&"overlap"),style:function(){var e={backgroundImage:n?"url(".concat(n,")"):"none"};return i===s.b&&(e.marginRight=-d,e.marginLeft=-d,e.paddingLeft=0,e.paddingRight=0),e}(),children:i===s.b?Object(a.jsx)("div",{className:"container",children:t}):Object(a.jsx)(a.Fragment,{children:t})})}))},2086:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(18),r=n.n(c),l=n(140),s=n(15),o=n(85),i=n(0),u=n(52),j=n(1080),d=n(270),b=n(114),m=n(246),h=n(2080),O=n(532),f=n(174),p=n(1099),g=n(1100),x=n(1172),v=n(1021),k=n(2027),y=n.n(k),w=(n(37),n(2079)),S=n(1022),N=n(2088),I=(n(79),n(143)),C=(m.a.Option,w.a.Dragger),F=function(){var e=localStorage.getItem("auth_token"),t=(localStorage.getItem("wallet_type"),h.a.useForm()),n=(Object(o.a)(t,1)[0],Object(i.useState)("")),c=Object(o.a)(n,2),u=c[0],j=c[1],b=Object(i.useState)(!1),m=Object(o.a)(b,2),f=(m[0],m[1],function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.collection("users").doc(e).onSnapshot((function(e){j(e.data().profileImage),console.log("Current data: ",e.data().profileImage)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());Object(i.useEffect)((function(){f()}),[]);var p=function(){var t=Object(l.a)(r.a.mark((function t(n){var a,c,l,s,o,i,u,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.onError,c=n.onSuccess,l=n.file,s={contentType:"image/jpeg"},o=I.b.ref(),i=o.child(e),t.prev=4,t.next=7,i.put(l,s);case 7:return u=t.sent,t.next=10,i.getDownloadURL();case 10:return j=t.sent,console.log(j),t.next=14,I.a.collection("users").doc(e).update({profileImage:j}).catch((function(e){console.error("Error adding document: ",e)}));case 14:c(null,u),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),a(t.t0);case 20:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}(),g={name:"file",multiple:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?O.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&O.b.error("".concat(e.file.name," file upload failed."))}};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(x.a,{title:"Profile Image",children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(d.a,{className:"py-2",mobileFlex:!1,justifyContent:"center",alignItems:"center",children:Object(a.jsx)(S.a,{className:"mb-3",size:128,src:u})})}),Object(a.jsxs)(C,Object(s.a)(Object(s.a)({},g),{},{customRequest:p,children:[Object(a.jsx)("p",{className:"ant-upload-drag-icon",children:Object(a.jsx)(N.a,{})}),Object(a.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),Object(a.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))]})})},W=m.a.Option;t.default=function(){var e=localStorage.getItem("auth_token"),t=(localStorage.getItem("wallet_type"),h.a.useForm()),n=Object(o.a)(t,1)[0],c=Object(i.useMemo)((function(){return y()().getData()}),[]),k=Object(i.useState)(!1),w=Object(o.a)(k,2),S=w[0],N=w[1],C=Object(i.useState)(null),M=Object(o.a)(C,2),T=(M[0],M[1],Object(i.useState)(null)),E=Object(o.a)(T,2),D=(E[0],E[1],Object(u.c)()),R=function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.collection("users").doc(e).onSnapshot((function(e){var t=e.data();n.setFieldsValue({name:t.name,country:t.country,division:t.division,team:t.team})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){R()}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(h.a,{onFinish:function(){N(!0),n.validateFields().then((function(t){console.log(t),D(Object(b.j)(Object(s.a)({walletAddress:e},t))),N(!1),O.b.info("\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")})).catch((function(e){O.b.error(e)}))},layout:"vertical",className:"ant-advanced-search-form",form:n,children:[Object(a.jsx)(j.a,{className:"border-bottom mb-5",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(d.a,{className:"py-2",mobileFlex:!1,justifyContent:"between",alignItems:"center",children:[Object(a.jsx)("h2",{className:"mb-3",children:"Edit Profile"}),Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsx)(f.a,{type:"primary",htmlType:"submit",loading:S,children:"Update"})})]})})}),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(p.a,{justify:"center",gutter:16,children:[Object(a.jsx)(g.a,{xs:24,sm:24,md:24,lg:12,children:Object(a.jsx)(F,{})}),Object(a.jsx)(g.a,{xs:24,sm:24,md:24,lg:12,children:Object(a.jsxs)(x.a,{title:"Basic Info",children:[Object(a.jsx)(h.a.Item,{name:"name",label:"Name",colon:!1,rules:[{required:!1,message:"Please input your username!"}],children:Object(a.jsx)(v.a,{})}),Object(a.jsx)(h.a.Item,{name:"country",label:"Country",colon:!1,children:Object(a.jsx)(m.a,{placeholder:"Select a option",allowClear:!0,children:c.map((function(e){return Object(a.jsx)(W,{value:e.value,children:e.label},e.value)}))})}),Object(a.jsx)(h.a.Item,{name:"division",label:"Division",rules:[{required:!1}],children:Object(a.jsxs)(m.a,{placeholder:"Select a option",allowClear:!0,children:[Object(a.jsx)(W,{value:"Men +80kg",children:"Men +80kg"}),Object(a.jsx)(W,{value:"Men -80kg",children:"Men -80kg"}),Object(a.jsx)(W,{value:"Men -68kg",children:"Men -68kg"}),Object(a.jsx)(W,{value:"Men -58kg",children:"Men -58kg"}),Object(a.jsx)(W,{value:"Women +67kg",children:"Women +67kg"}),Object(a.jsx)(W,{value:"Women -67kg",children:"Women -67kg"}),Object(a.jsx)(W,{value:"Women -57kg",children:"Women -57kg"}),Object(a.jsx)(W,{value:"Women -49kg",children:"Women -49kg"})]})}),Object(a.jsx)(h.a.Item,{name:"team",label:"Team",colon:!1,children:Object(a.jsxs)(m.a,{placeholder:"Select a option",allowClear:!0,children:[Object(a.jsx)(W,{value:"\ud0dc\uad8c\ub3c4\ud611\ub3d9\uc870\ud569",children:"TKD-COOP"}),Object(a.jsx)(W,{value:"none",children:"none"})]})})]})})]})})]})})}}}]);